# Stage 1 
FROM node:21 As backend-builder 

#setup the working Dir
WOKDIR /app

#code copy 
COPY .  .

RUN npm i

#stage 2 
FROM node:21-slim

#setup the working dir 
WOKDIR /app

#copy the above stage as compressed stage 
COPY --from=backend-builder /app .
COPY .env.sample .env
EXPOSE 5000
CMD ["npm", "start"] 
